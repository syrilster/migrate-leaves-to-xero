?   	github.com/syrilster/migrate-leave-krow-to-xero	[no test files]
=== RUN   TestLeaveMigration
=== RUN   TestLeaveMigration/Success
time="2022-04-28T21:56:12+10:00" level=info msg="Executing MigrateLeaveKrowToXero service"
time="2022-04-28T21:56:12+10:00" level=info msg="SheetName: Digio Sheet"
time="2022-04-28T21:56:12+10:00" level=info msg="Leave Requests length: 4"
time="2022-04-28T21:56:12+10:00" level=info msg="Processing Leave Requests"
time="2022-04-28T21:56:12+10:00" level=info msg="Calculating leaves to be applied for Employee Syril Sadasivan"
time="2022-04-28T21:56:12+10:00" level=info msg="Calculating leaves to be applied for Employee Syril Sadasivan"
time="2022-04-28T21:56:12+10:00" level=info msg="Applying leave request for Employees: Syril Sadasivan"
time="2022-04-28T21:56:12+10:00" level=info msg="Calculating leaves to be applied for Employee Syril Sadasivan"
time="2022-04-28T21:56:12+10:00" level=info msg="Applying leave request for Employees: Syril Sadasivan"
time="2022-04-28T21:56:13+10:00" level=info msg="Calculating leaves to be applied for Employee Syril Sadasivan"
time="2022-04-28T21:56:13+10:00" level=info msg="Applying leave request for Employees: Syril Sadasivan"
time="2022-04-28T21:56:13+10:00" level=info msg="Applying leave request for Employees: Syril Sadasivan"
=== RUN   TestLeaveMigration/Failure_-_When_invalid_data_in_sheet
time="2022-04-28T21:56:13+10:00" level=info msg="Executing MigrateLeaveKrowToXero service"
time="2022-04-28T21:56:13+10:00" level=info msg="Inside sesSendEmail func"
time="2022-04-28T21:56:13+10:00" level=info msg="SheetName: Digio Sheet"
time="2022-04-28T21:56:13+10:00" level=error msg="Invalid entry for Leave Date: 28/04/20. Valid Format DD/M/YYYY (Ex: 1/6/2020) " error="parsing time \"28/04/20\" as \"2/1/2006\": cannot parse \"20\" as \"2006\""
time="2022-04-28T21:56:13+10:00" level=error msg="Invalid entry for Leave Date: 28/04/20. Valid Format DD/M/YYYY (Ex: 1/6/2020) " error="parsing time \"28/04/20\" as \"2/1/2006\": cannot parse \"20\" as \"2006\""
time="2022-04-28T21:56:13+10:00" level=error msg="Invalid entry for Leave Date: 28/04/20. Valid Format DD/M/YYYY (Ex: 1/6/2020) " error="parsing time \"28/04/20\" as \"2/1/2006\": cannot parse \"20\" as \"2006\""
time="2022-04-28T21:56:13+10:00" level=error msg="Invalid entry for Leave Date: 28/04/20. Valid Format DD/M/YYYY (Ex: 1/6/2020) " error="parsing time \"28/04/20\" as \"2/1/2006\": cannot parse \"20\" as \"2006\""
time="2022-04-28T21:56:13+10:00" level=info msg="There were 4 errors during extracting excel data"
time="2022-04-28T21:56:13+10:00" level=info msg="Leave Requests length: 0"
=== RUN   TestLeaveMigration/Error_when_employee_has_insufficient_leave_balance_for_leave_type_Jury_Duty_and_compassionate_leave
time="2022-04-28T21:56:13+10:00" level=info msg="Inside sesSendEmail func"
time="2022-04-28T21:56:13+10:00" level=info msg="Executing MigrateLeaveKrowToXero service"
time="2022-04-28T21:56:13+10:00" level=info msg="SheetName: Sheet1"
time="2022-04-28T21:56:13+10:00" level=info msg="Leave Requests length: 6"
time="2022-04-28T21:56:13+10:00" level=info msg="Processing Leave Requests"
time="2022-04-28T21:56:13+10:00" level=info msg="Calculating leaves to be applied for Employee Syril Sadasivan"
time="2022-04-28T21:56:13+10:00" level=error msg="Error when sending email" error="MissingRegion: could not find region configuration"
time="2022-04-28T21:56:13+10:00" level=error msg="Error when sending email" error="MissingRegion: could not find region configuration"
time="2022-04-28T21:56:13+10:00" level=info msg="Calculating leaves to be applied for Employee Syril Sadasivan"
time="2022-04-28T21:56:13+10:00" level=info msg="Applying leave request for Employees: Syril Sadasivan"
time="2022-04-28T21:56:13+10:00" level=info msg="Calculating leaves to be applied for Employee Syril Sadasivan"
time="2022-04-28T21:56:13+10:00" level=info msg="Applying leave request for Employees: Syril Sadasivan"
time="2022-04-28T21:56:13+10:00" level=info msg="Calculating leaves to be applied for Employee Syril Sadasivan"
time="2022-04-28T21:56:13+10:00" level=info msg="Applying leave request for Employees: Syril Sadasivan"
time="2022-04-28T21:56:14+10:00" level=info msg="Calculating leaves to be applied for Employee Syril Sadasivan"
time="2022-04-28T21:56:14+10:00" level=info msg="Applying leave request for Employees: Syril Sadasivan"
time="2022-04-28T21:56:14+10:00" level=info msg="Calculating leaves to be applied for Employee Syril Sadasivan"
time="2022-04-28T21:56:14+10:00" level=info msg="Applying leave request for Employees: Syril Sadasivan"
time="2022-04-28T21:56:14+10:00" level=info msg="Applying leave request for Employees: Syril Sadasivan"
=== RUN   TestLeaveMigration/Success_-_When_Org_having_more_than_100_employees
time="2022-04-28T21:56:14+10:00" level=info msg="Inside sesSendEmail func"
time="2022-04-28T21:56:14+10:00" level=info msg="Executing MigrateLeaveKrowToXero service"
time="2022-04-28T21:56:14+10:00" level=info msg="SheetName: Digio Sheet"
time="2022-04-28T21:56:14+10:00" level=info msg="Leave Requests length: 4"
time="2022-04-28T21:56:14+10:00" level=info msg="Processing Leave Requests"
time="2022-04-28T21:56:14+10:00" level=info msg="Calculating leaves to be applied for Employee Syril Sadasivan"
time="2022-04-28T21:56:14+10:00" level=error msg="Error when sending email" error="MissingRegion: could not find region configuration"
time="2022-04-28T21:56:14+10:00" level=info msg="Calculating leaves to be applied for Employee Syril Sadasivan"
time="2022-04-28T21:56:14+10:00" level=info msg="Applying leave request for Employees: Syril Sadasivan"
time="2022-04-28T21:56:14+10:00" level=info msg="Calculating leaves to be applied for Employee Syril Sadasivan"
time="2022-04-28T21:56:14+10:00" level=info msg="Applying leave request for Employees: Syril Sadasivan"
time="2022-04-28T21:56:15+10:00" level=info msg="Calculating leaves to be applied for Employee Syril Sadasivan"
time="2022-04-28T21:56:15+10:00" level=info msg="Applying leave request for Employees: Syril Sadasivan"
time="2022-04-28T21:56:15+10:00" level=info msg="Applying leave request for Employees: Syril Sadasivan"
=== RUN   TestLeaveMigration/Failure_-_When_Org_having_more_than_100_employees_and_page_2_return_error
time="2022-04-28T21:56:15+10:00" level=info msg="Inside sesSendEmail func"
time="2022-04-28T21:56:15+10:00" level=info msg="Executing MigrateLeaveKrowToXero service"
time="2022-04-28T21:56:15+10:00" level=info msg="SheetName: Digio Sheet"
time="2022-04-28T21:56:15+10:00" level=info msg="Leave Requests length: 4"
time="2022-04-28T21:56:15+10:00" level=info msg="Processing Leave Requests"
time="2022-04-28T21:56:15+10:00" level=info msg="error%!(EXTRA *errors.errorString=error)"
time="2022-04-28T21:56:15+10:00" level=info msg="error%!(EXTRA *errors.errorString=error)"
time="2022-04-28T21:56:15+10:00" level=error msg="Error when sending email" error="MissingRegion: could not find region configuration"
time="2022-04-28T21:56:15+10:00" level=info msg="error%!(EXTRA *errors.errorString=error)"
time="2022-04-28T21:56:15+10:00" level=info msg="error%!(EXTRA *errors.errorString=error)"
=== RUN   TestLeaveMigration/Error_when_ORG_is_missing_in_Xero
time="2022-04-28T21:56:15+10:00" level=info msg="Inside sesSendEmail func"
time="2022-04-28T21:56:15+10:00" level=info msg="Executing MigrateLeaveKrowToXero service"
time="2022-04-28T21:56:15+10:00" level=error msg="Error when sending email" error="MissingRegion: could not find region configuration"
time="2022-04-28T21:56:15+10:00" level=info msg="SheetName: Sheet1"
time="2022-04-28T21:56:15+10:00" level=error msg="Invalid entry for Leave Date: 01-05-20. Valid Format DD/M/YYYY (Ex: 1/6/2020) " error="parsing time \"01-05-20\" as \"2/1/2006\": cannot parse \"-05-20\" as \"/\""
time="2022-04-28T21:56:15+10:00" level=info msg="There were 1 errors during extracting excel data"
time="2022-04-28T21:56:15+10:00" level=info msg="Leave Requests length: 17"
time="2022-04-28T21:56:15+10:00" level=info msg="Processing Leave Requests"
time="2022-04-28T21:56:15+10:00" level=info msg="Calculating leaves to be applied for Employee Syril Sadasivan"
time="2022-04-28T21:56:15+10:00" level=info msg="Calculating leaves to be applied for Employee Syril Sadasivan"
time="2022-04-28T21:56:15+10:00" level=info msg="Applying leave request for Employees: Syril Sadasivan"
time="2022-04-28T21:56:15+10:00" level=info msg="Calculating leaves to be applied for Employee Syril Sadasivan"
time="2022-04-28T21:56:15+10:00" level=info msg="Applying leave request for Employees: Syril Sadasivan"
time="2022-04-28T21:56:15+10:00" level=info msg="Calculating leaves to be applied for Employee Syril Sadasivan"
time="2022-04-28T21:56:15+10:00" level=info msg="Applying leave request for Employees: Syril Sadasivan"
time="2022-04-28T21:56:16+10:00" level=info msg="Failed to get Organization details from Xero. Organization: Mantel Group. "
time="2022-04-28T21:56:16+10:00" level=info msg="Failed to get Organization details from Xero. Organization: Mantel Group. "
time="2022-04-28T21:56:16+10:00" level=info msg="Failed to get Organization details from Xero. Organization: Mantel Group. "
time="2022-04-28T21:56:16+10:00" level=info msg="Failed to get Organization details from Xero. Organization: Mantel Group. "
time="2022-04-28T21:56:16+10:00" level=info msg="Failed to get Organization details from Xero. Organization: Mantel Group. "
time="2022-04-28T21:56:16+10:00" level=info msg="Failed to get Organization details from Xero. Organization: Mantel Group. "
time="2022-04-28T21:56:16+10:00" level=info msg="Failed to get Organization details from Xero. Organization: Mantel Group. "
time="2022-04-28T21:56:16+10:00" level=info msg="Failed to get Organization details from Xero. Organization: CMD. "
time="2022-04-28T21:56:16+10:00" level=info msg="Failed to get Organization details from Xero. Organization: CMD. "
time="2022-04-28T21:56:16+10:00" level=info msg="Failed to get Organization details from Xero. Organization: CMD. "
time="2022-04-28T21:56:16+10:00" level=info msg="Failed to get Organization details from Xero. Organization: Eliiza. "
time="2022-04-28T21:56:16+10:00" level=info msg="Failed to get Organization details from Xero. Organization: Eliiza. "
time="2022-04-28T21:56:16+10:00" level=info msg="Failed to get Organization details from Xero. Organization: Mantel Group. "
time="2022-04-28T21:56:16+10:00" level=info msg="Applying leave request for Employees: Syril Sadasivan"
=== RUN   TestLeaveMigration/Error_when_employee_does_not_have_the_applied_leave_type_configured_in_Xero
time="2022-04-28T21:56:16+10:00" level=info msg="Inside sesSendEmail func"
time="2022-04-28T21:56:16+10:00" level=info msg="Executing MigrateLeaveKrowToXero service"
time="2022-04-28T21:56:16+10:00" level=info msg="SheetName: Digio Sheet"
time="2022-04-28T21:56:16+10:00" level=info msg="Leave Requests length: 4"
time="2022-04-28T21:56:16+10:00" level=info msg="Processing Leave Requests"
time="2022-04-28T21:56:16+10:00" level=info msg="Calculating leaves to be applied for Employee Syril Sadasivan"
time="2022-04-28T21:56:16+10:00" level=error msg="Error when sending email" error="MissingRegion: could not find region configuration"
time="2022-04-28T21:56:16+10:00" level=info msg="Leave type Personal/Carer's Leave not found/configured in Xero for Employee: Syril Sadasivan. Organization: DigIO "
time="2022-04-28T21:56:16+10:00" level=info msg="Calculating leaves to be applied for Employee Syril Sadasivan"
time="2022-04-28T21:56:16+10:00" level=info msg="Calculating leaves to be applied for Employee Syril Sadasivan"
time="2022-04-28T21:56:16+10:00" level=info msg="Applying leave request for Employees: Syril Sadasivan"
time="2022-04-28T21:56:16+10:00" level=info msg="Calculating leaves to be applied for Employee Syril Sadasivan"
time="2022-04-28T21:56:16+10:00" level=info msg="Applying leave request for Employees: Syril Sadasivan"
time="2022-04-28T21:56:16+10:00" level=info msg="Applying leave request for Employees: Syril Sadasivan"
time="2022-04-28T21:56:16+10:00" level=info msg="Inside sesSendEmail func"
=== RUN   TestLeaveMigration/Error_when_employee_is_missing_in_Xero
time="2022-04-28T21:56:16+10:00" level=info msg="Executing MigrateLeaveKrowToXero service"
time="2022-04-28T21:56:16+10:00" level=info msg="SheetName: Sheet1"
time="2022-04-28T21:56:16+10:00" level=error msg="Invalid entry for Leave Date: 01-05-20. Valid Format DD/M/YYYY (Ex: 1/6/2020) " error="parsing time \"01-05-20\" as \"2/1/2006\": cannot parse \"-05-20\" as \"/\""
time="2022-04-28T21:56:16+10:00" level=info msg="There were 1 errors during extracting excel data"
time="2022-04-28T21:56:16+10:00" level=info msg="Leave Requests length: 17"
time="2022-04-28T21:56:16+10:00" level=info msg="Processing Leave Requests"
time="2022-04-28T21:56:16+10:00" level=error msg="Error when sending email" error="MissingRegion: could not find region configuration"
time="2022-04-28T21:56:16+10:00" level=info msg="Calculating leaves to be applied for Employee Syril Sadasivan"
time="2022-04-28T21:56:17+10:00" level=info msg="Calculating leaves to be applied for Employee Syril Sadasivan"
time="2022-04-28T21:56:17+10:00" level=info msg="Applying leave request for Employees: Syril Sadasivan"
time="2022-04-28T21:56:17+10:00" level=info msg="Calculating leaves to be applied for Employee Syril Sadasivan"
time="2022-04-28T21:56:17+10:00" level=info msg="Applying leave request for Employees: Syril Sadasivan"
time="2022-04-28T21:56:17+10:00" level=info msg="Calculating leaves to be applied for Employee Syril Sadasivan"
time="2022-04-28T21:56:17+10:00" level=info msg="Applying leave request for Employees: Syril Sadasivan"
time="2022-04-28T21:56:17+10:00" level=info msg="Employee not found in Xero. Employee: Andy Phung. Organization: Mantel Group  "
time="2022-04-28T21:56:17+10:00" level=info msg="Employee not found in Xero. Employee: Caroline Henshaw. Organization: Mantel Group  "
time="2022-04-28T21:56:17+10:00" level=info msg="Employee not found in Xero. Employee: Con Mouzouris. Organization: Mantel Group  "
time="2022-04-28T21:56:17+10:00" level=info msg="Employee not found in Xero. Employee: David Heaney. Organization: Mantel Group  "
time="2022-04-28T21:56:17+10:00" level=info msg="Employee not found in Xero. Employee: Eli Gunduz. Organization: Mantel Group  "
time="2022-04-28T21:56:17+10:00" level=info msg="Employee not found in Xero. Employee: Maree Henwood. Organization: Mantel Group  "
time="2022-04-28T21:56:17+10:00" level=info msg="Employee not found in Xero. Employee: Stina Anderson. Organization: Mantel Group  "
time="2022-04-28T21:56:17+10:00" level=info msg="Employee not found in Xero. Employee: Anish Muraleedharan. Organization: CMD  "
time="2022-04-28T21:56:17+10:00" level=info msg="Employee not found in Xero. Employee: Bobokumar Moirangthem. Organization: CMD  "
time="2022-04-28T21:56:17+10:00" level=info msg="Employee not found in Xero. Employee: Bobokumar Moirangthem. Organization: CMD  "
time="2022-04-28T21:56:17+10:00" level=info msg="Applying leave request for Employees: Syril Sadasivan"
time="2022-04-28T21:56:17+10:00" level=info msg="Employee not found in Xero. Employee: Eike Germann. Organization: Eliiza  "
time="2022-04-28T21:56:17+10:00" level=info msg="Employee not found in Xero. Employee: Grace Halim. Organization: Eliiza  "
time="2022-04-28T21:56:17+10:00" level=info msg="Employee not found in Xero. Employee: Shyam Kumar. Organization: Mantel Group  "
=== RUN   TestLeaveMigration/Error_when_payroll_calendar_settings_not_found_for_employee
time="2022-04-28T21:56:17+10:00" level=info msg="Inside sesSendEmail func"
time="2022-04-28T21:56:17+10:00" level=info msg="Executing MigrateLeaveKrowToXero service"
time="2022-04-28T21:56:17+10:00" level=info msg="SheetName: Sheet1"
time="2022-04-28T21:56:17+10:00" level=info msg="Leave Requests length: 4"
time="2022-04-28T21:56:17+10:00" level=info msg="Processing Leave Requests"
time="2022-04-28T21:56:17+10:00" level=info msg="Calculating leaves to be applied for Employee Syril Sadasivan"
time="2022-04-28T21:56:17+10:00" level=error msg="Error when sending email" error="MissingRegion: could not find region configuration"
time="2022-04-28T21:56:17+10:00" level=info msg="Calculating leaves to be applied for Employee Syril Sadasivan"
time="2022-04-28T21:56:17+10:00" level=info msg="Applying leave request for Employees: Syril Sadasivan"
time="2022-04-28T21:56:18+10:00" level=info msg="Calculating leaves to be applied for Employee Syril Sadasivan"
time="2022-04-28T21:56:18+10:00" level=info msg="Applying leave request for Employees: Syril Sadasivan"
time="2022-04-28T21:56:18+10:00" level=info msg="Applying leave request for Employees: Syril Sadasivan"
time="2022-04-28T21:56:18+10:00" level=info msg="Failed to fetch employee payroll calendar settings from Xero. Employee: Stina Anderson. Organization: CMD "
=== RUN   TestLeaveMigration/Error_when_failed_to_post_leave_request_to_xero
time="2022-04-28T21:56:18+10:00" level=info msg="Inside sesSendEmail func"
time="2022-04-28T21:56:18+10:00" level=info msg="Executing MigrateLeaveKrowToXero service"
time="2022-04-28T21:56:18+10:00" level=info msg="SheetName: Sheet1"
time="2022-04-28T21:56:18+10:00" level=info msg="Leave Requests length: 4"
time="2022-04-28T21:56:18+10:00" level=info msg="Processing Leave Requests"
time="2022-04-28T21:56:18+10:00" level=info msg="Calculating leaves to be applied for Employee Syril Sadasivan"
time="2022-04-28T21:56:18+10:00" level=error msg="Error when sending email" error="MissingRegion: could not find region configuration"
time="2022-04-28T21:56:18+10:00" level=info msg="Calculating leaves to be applied for Employee Syril Sadasivan"
time="2022-04-28T21:56:18+10:00" level=info msg="Applying leave request for Employees: Syril Sadasivan"
time="2022-04-28T21:56:18+10:00" level=info msg="Calculating leaves to be applied for Employee Syril Sadasivan"
time="2022-04-28T21:56:18+10:00" level=info msg="Applying leave request for Employees: Syril Sadasivan"
time="2022-04-28T21:56:18+10:00" level=info msg="Applying leave request for Employees: Syril Sadasivan"
time="2022-04-28T21:56:18+10:00" level=info msg="Calculating leaves to be applied for Employee Stina Anderson"
time="2022-04-28T21:56:19+10:00" level=info msg="Applying leave request for Employees: Stina Anderson"
time="2022-04-28T21:56:19+10:00" level=info msg="Leave Application Request: {45678974111 73f37030-b1ed-bb37-0242ac130002 /Date(1588032000000)/ /Date(1588032000000)/ Annual Leave 28/04 [{/Date(632102400000+0000)/ 8}]}"
time="2022-04-28T21:56:19+10:00" level=error msg="Failed to post Leave application to xero for Employee: Stina Anderson Organization: CMD" error="something went wrong"
--- PASS: TestLeaveMigration (6.72s)
    --- PASS: TestLeaveMigration/Success (0.81s)
    --- PASS: TestLeaveMigration/Failure_-_When_invalid_data_in_sheet (0.01s)
    --- PASS: TestLeaveMigration/Error_when_employee_has_insufficient_leave_balance_for_leave_type_Jury_Duty_and_compassionate_leave (1.21s)
    --- PASS: TestLeaveMigration/Success_-_When_Org_having_more_than_100_employees (0.82s)
    --- PASS: TestLeaveMigration/Failure_-_When_Org_having_more_than_100_employees_and_page_2_return_error (0.01s)
    --- PASS: TestLeaveMigration/Error_when_ORG_is_missing_in_Xero (0.81s)
    --- PASS: TestLeaveMigration/Error_when_employee_does_not_have_the_applied_leave_type_configured_in_Xero (0.81s)
    --- PASS: TestLeaveMigration/Error_when_employee_is_missing_in_Xero (0.82s)
    --- PASS: TestLeaveMigration/Error_when_payroll_calendar_settings_not_found_for_employee (0.61s)
    --- PASS: TestLeaveMigration/Error_when_failed_to_post_leave_request_to_xero (0.81s)
PASS
time="2022-04-28T21:56:19+10:00" level=info msg="Inside sesSendEmail func"
ok  	github.com/syrilster/migrate-leave-krow-to-xero/internal	7.065s
?   	github.com/syrilster/migrate-leave-krow-to-xero/internal/auth	[no test files]
?   	github.com/syrilster/migrate-leave-krow-to-xero/internal/config	[no test files]
?   	github.com/syrilster/migrate-leave-krow-to-xero/internal/customhttp	[no test files]
?   	github.com/syrilster/migrate-leave-krow-to-xero/internal/middlewares	[no test files]
?   	github.com/syrilster/migrate-leave-krow-to-xero/internal/model	[no test files]
?   	github.com/syrilster/migrate-leave-krow-to-xero/internal/util	[no test files]
?   	github.com/syrilster/migrate-leave-krow-to-xero/internal/xero	[no test files]
